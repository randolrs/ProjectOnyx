<h1>Select Game to Predict</h1>

<table>
  <thead>
    <tr>
      <th>League</th>
      <th>Home Team</th>
      <th>Away Team </th>
      <th>Event Date</th>
      <th>Event Time</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @games.each do |game| %>
      
      <% #if game.event_time > Time.now and game.status == "o" %>

   <!--  #Game is in the future, game is not yet scored, current predictor dis not yet predict that game -->

      <% if game.event_time > Time.now and game.status == "o" and not PredictionGame.where(:game_id => game.id, :predictor_id => current_predictor.id).present? %>
      

      <tr>
        <td><%= game.league %></td>
        <td><%= game.teamh %></td>
        <td><%= game.teama %></td>
        <td><%= game.event_time.strftime("%B %d, %Y") %></td>
        <td><%= game.event_time.strftime("%l:%M %p") %></td>

        <td><%= link_to 'Make Prediction', new_prediction_game_path(:game => game.id) %></td>
       
      </tr>

      <% end %>


    <% end %>
  </tbody>
</table>

<br>